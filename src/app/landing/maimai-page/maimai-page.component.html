<div class="container">
  <br>
  <h1 class="text-center mb-4">Jo Mai Mai</h1>

  <div class="mb-3">
      <h3>Selecciona Categories:</h3>
      <div class="d-flex flex-column">
          <!-- Botons de selecció/deselecció general -->
          <div class="d-flex justify-content-between align-items-center mb-2">
              <button class="btn btn-sm btn-outline-secondary" (click)="toggleAllCategories()">
                  {{ allCategoriesSelected ? 'Desseleccionar Tot' : 'Seleccionar Tot' }}
              </button>
          </div>

          <!-- Contenidor de categories -->
          <div class="d-flex flex-wrap justify-content-center">
              @for (category of categories; track $index) {
              <div class="form-check m-1 d-flex align-items-center">
                  <input class="form-check-input" type="checkbox" [value]="category" id="category-{{category}}"
                      (change)="toggleCategory(category)" [checked]="selectedCategories.includes(category)">
                  <label class="form-check-label me-2" for="category-{{category}}">
                      {{ category }}
                  </label>
              </div>
              }
          </div>
      </div>
  </div>

  <div class="d-flex justify-content-center mb-3">
      <!-- Centrat del botó -->
      <button class="btn btn-primary" (click)="carregarPreguntes()">Carregar Preguntas</button>
  </div>

  <div *ngIf="preguntaActual" class="mt-3 pregunta-container">
      <h3>Pregunta: {{indicePreguntaActual+1}} de {{totalpreguntes}}</h3>
      <p><b class="me-1">{{ preguntaActual?.id }} - </b> <span class="typewriter">{{ displayedQuestion }}</span>
          <span class="cursor" [class.blinking]="showCursor">I</span></p>
      <div class="d-flex justify-content-center">
          <!-- Centrat botó següent pregunta -->
          <button class="btn btn-secondary" (click)="preguntaSeguent()">Pregunta Següent</button>
      </div>
  </div>
</div>
